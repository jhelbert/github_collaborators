// Generated by CoffeeScript 1.6.3
/* javascript entry point for this example interface.*/


(function() {
  requirejs.config({
    baseUrl: "/celestrium/core/",
    paths: {
      local: "../../"
    }
  });

  /*
  
  You need only require the Celestrium plugin.
  NOTE: it's module loads the globally defined standard js libraries
        like jQuery, underscore, etc...
  */


  require(["Celestrium"], function(Celestrium) {
    /*
    
    This dictionary defines which plugins are to be included
    and what their arguments are.
    
    The key is the requirejs path to the plugin.
    The value is passed to its constructor.
    */

    var plugins;
    plugins = {
      Layout: {
        el: document.querySelector("body")
      },
      KeyListener: document.querySelector("body"),
      GraphModel: {
        nodeHash: function(node) {
          return node.text;
        },
        linkHash: function(link) {
          return link.source.text + link.target.text;
        }
      },
      GraphView: {},
      "Sliders": {},
      "ForceSliders": {},
      "NodeSearch": {
        prefetch: "get_nodes"
      },
      "Stats": {},
      "NodeSelection": {},
      "SelectionLayer": {},
      "NodeDetails": {},
      "LinkDistribution": {},
      "ContextMenu": {},
      "local/ExampleDataProvider": {}
    };
    return Celestrium.init(plugins, function(instances) {
      var ContextMenu, dataProvider;
      instances["GraphView"].getLinkFilter().set("threshold", 0);
      dataProvider = instances["local/ExampleDataProvider"];
      ContextMenu = instances["ContextMenu"];
      return ContextMenu.addMenuOption("Expand Nodes", dataProvider.addRelatedNodes, dataProvider);
    });
  });

}).call(this);
